<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>D2C Admin Panel</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
:root {
    --primary: #4361ee;
    --primary-dark: #3a56d4;
    --utility: #06d6a0;
    --ecommerce: #ff9e00;
    --danger: #ef476f;
    --warning: #ffd166;
    --success: #06d6a0;
    --dark: #2b2d42;
    --gray: #adb5bd;
    --light: #f8f9fa;
    --gray-light: #e9ecef;
    --border-radius: 12px;
    --box-shadow: 0 8px 30px rgba(0,0,0,.08);
    --transition: all 0.3s ease;
}

/* RESET */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', system-ui, sans-serif;
}

body {
    background: #f5f7fb;
    color: var(--dark);
    min-height: 100vh;
}

/* LAYOUT */
.container {
    display: flex;
    min-height: 100vh;
}

/* SIDEBAR */
.sidebar {
    width: 260px;
    background: white;
    box-shadow: 2px 0 10px rgba(0,0,0,.05);
    display: flex;
    flex-direction: column;
    transition: var(--transition);
}

/* LOGO */
.logo {
    padding: 20px;
    display: flex;
    gap: 12px;
    align-items: center;
    border-bottom: 1px solid var(--gray-light);
}

.logo h1 {
    font-size: 22px;
    font-weight: 700;
    background: linear-gradient(90deg, var(--primary), var(--utility));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.logo i {
    font-size: 24px;
    color: var(--primary);
}

/* PROFILE BOX - UPDATED FOR BETTER FIT */
.profile-box {
    margin: 16px 12px;
    padding: 18px;
    background: white;
    border-radius: var(--border-radius);
    text-align: center;
    box-shadow: var(--box-shadow);
    position: relative;
    overflow: hidden;
    border: 2px solid #f0f2f5;
    max-height: 220px;
}

/* SLIDING TEXT - IMPROVED */
.profile-box h4 {
    font-size: 13px;
    font-weight: 700;
    color: #7b61ff;
    white-space: nowrap;
    overflow: hidden;
    position: relative;
    margin-bottom: 8px;
    height: 18px;
}

.profile-box h4 span {
    display: inline-block;
    padding-left: 100%;
    animation: slideText 10s linear infinite;
}

@keyframes slideText {
    0% { transform: translateX(0); }
    100% { transform: translateX(-100%); }
}

.profile-box p {
    font-size: 12px;
    color: var(--gray);
    margin-top: 4px;
}

.profile-box h3 {
    font-size: 15px;
    color: #0d6efd;
    font-weight: 700;
    margin-top: 4px;
    margin-bottom: 12px;
}

/* PROFILE LOGO WITH ICON - COMPACT */
.profile-logo {
    margin-top: 8px;
    position: relative;
    display: inline-block;
}

.profile-logo-icon {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--primary), var(--utility));
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 28px;
    border: 3px solid white;
    box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
    position: relative;
    overflow: hidden;
}

.profile-logo-icon::after {
    content: '';
    position: absolute;
    top: -8px;
    left: -8px;
    right: -8px;
    bottom: -8px;
    background: linear-gradient(45deg, 
        rgba(67, 97, 238, 0.2),
        rgba(6, 214, 160, 0.2),
        rgba(67, 97, 238, 0.2));
    border-radius: 50%;
    z-index: -1;
    animation: rotate 20s linear infinite;
}

@keyframes rotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* STATUS BADGE ON PROFILE */
.status-badge {
    position: absolute;
    bottom: 5px;
    right: 5px;
    width: 14px;
    height: 14px;
    background: var(--success);
    border-radius: 50%;
    border: 2px solid white;
    z-index: 2;
}

/* PROFILE STATUS TEXT */
.profile-status {
    margin-top: 10px;
    font-size: 11px;
    color: var(--success);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
}

/* DASHBOARD SWITCHER */
.dashboard-switcher {
    margin: 10px 12px;
    background: var(--light);
    border-radius: 12px;
    overflow: hidden;
}

.dashboard-option {
    padding: 12px 14px;
    display: flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
    transition: var(--transition);
    border-left: 4px solid transparent;
}

.dashboard-option:hover {
    background: rgba(255, 255, 255, 0.8);
}

.dashboard-option.active {
    background: white;
    border-left-color: var(--primary);
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

.dashboard-option i {
    font-size: 16px;
    width: 22px;
    text-align: center;
}

.dashboard-option.active i.fa-bolt {
    color: var(--utility);
}

.dashboard-option.active i.fa-shopping-cart {
    color: var(--ecommerce);
}

.dashboard-option span {
    font-size: 14px;
    font-weight: 500;
}

/* NAV */
.nav-section {
    margin-top: 15px;
    padding-bottom: 8px;
}

.nav-section h3 {
    font-size: 11px;
    color: var(--gray);
    padding: 0 16px 6px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.nav-links {
    list-style: none;
}

.nav-links li {
    margin-bottom: 1px;
}

.nav-links a {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px 16px;
    text-decoration: none;
    color: var(--dark);
    font-weight: 500;
    transition: var(--transition);
    position: relative;
    font-size: 14px;
}

.nav-links a:hover {
    background: rgba(67, 97, 238, 0.05);
    color: var(--primary);
}

.nav-links a.active {
    background: rgba(67, 97, 238, 0.1);
    color: var(--primary);
    border-left: 4px solid var(--primary);
}

.nav-links a.active:after {
    content: '';
    position: absolute;
    right: 16px;
    width: 6px;
    height: 6px;
    background-color: var(--primary);
    border-radius: 50%;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { opacity: 1; }
    50% { opacity: 0.5; }
    100% { opacity: 1; }
}

.nav-links a i {
    width: 18px;
    text-align: center;
    font-size: 16px;
}

/* SUBMENU */
.has-submenu .submenu {
    display: none;
    list-style: none;
    background: rgba(67, 97, 238, 0.03);
    padding: 4px 0;
}

.has-submenu.open .submenu {
    display: block;
}

.submenu a {
    padding: 10px 16px 10px 48px;
    font-size: 13px;
}

.submenu a:hover {
    background: rgba(67, 97, 238, 0.08);
}

.has-submenu > a .fa-chevron-down {
    transition: transform 0.3s ease;
    margin-left: auto;
    font-size: 11px;
}

.has-submenu.open > a .fa-chevron-down {
    transform: rotate(180deg);
}

/* BADGE */
.badge {
    display: inline-block;
    padding: 3px 6px;
    font-size: 10px;
    font-weight: 600;
    border-radius: 4px;
    background: var(--primary);
    color: white;
    margin-left: 8px;
    min-width: 18px;
    text-align: center;
}

/* MAIN CONTENT */
.main-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* TOPBAR */
.topbar {
    background: white;
    padding: 16px 24px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    z-index: 50;
}

.page-title h2 {
    font-size: 22px;
    font-weight: 700;
    color: var(--dark);
}

.page-title p {
    color: var(--gray);
    font-size: 13px;
    margin-top: 4px;
}

/* Dashboard Content */
.dashboard-content {
    padding: 24px;
    overflow-y: auto;
    flex: 1;
}

/* Hide inactive dashboards */
.dashboard-panel {
    display: none;
}

.dashboard-panel.active {
    display: block;
    animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Stats Cards */
.stats-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 25px;
}

.stat-card {
    background: white;
    border-radius: var(--border-radius);
    padding: 20px;
    box-shadow: var(--box-shadow);
    display: flex;
    align-items: center;
    gap: 16px;
    transition: var(--transition);
    cursor: pointer;
    position: relative;
    overflow: hidden;
}

.stat-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 25px rgba(0, 0, 0, 0.1);
}

.stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 4px;
    height: 100%;
    background: linear-gradient(to bottom, var(--primary), var(--utility));
}

.stat-icon {
    width: 50px;
    height: 50px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    color: white;
}

.stat-info h3 {
    font-size: 24px;
    font-weight: 700;
    margin-bottom: 4px;
}

.stat-info p {
    color: var(--gray);
    font-size: 13px;
}

/* Tables */
.table-container {
    background: white;
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow);
    overflow: hidden;
    margin-bottom: 25px;
}

.table-header {
    padding: 18px 20px;
    border-bottom: 1px solid var(--gray-light);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.table-header h3 {
    font-size: 16px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
}

/* Buttons */
.btn {
    padding: 8px 16px;
    border-radius: 8px;
    border: none;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
}

.btn-primary {
    background: var(--primary);
    color: white;
}

.btn-primary:hover {
    background: var(--primary-dark);
}

.btn-outline {
    background: transparent;
    border: 1px solid var(--gray);
    color: var(--dark);
}

.btn-outline:hover {
    border-color: var(--primary);
    color: var(--primary);
}

.btn-sm {
    padding: 6px 12px;
    font-size: 12px;
}

/* Table Styles */
table {
    width: 100%;
    border-collapse: collapse;
}

thead {
    background-color: var(--light);
}

th {
    padding: 14px 20px;
    text-align: left;
    font-weight: 600;
    color: var(--dark);
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

tbody tr {
    border-bottom: 1px solid var(--gray-light);
    transition: var(--transition);
}

tbody tr:hover {
    background-color: rgba(67, 97, 238, 0.03);
}

td {
    padding: 16px 20px;
    font-size: 13px;
}

/* Status Badges */
.status {
    display: inline-block;
    padding: 5px 10px;
    border-radius: 20px;
    font-size: 11px;
    font-weight: 600;
}

.status-success {
    background: rgba(6, 214, 160, 0.15);
    color: var(--success);
}

.status-pending {
    background: rgba(255, 209, 102, 0.15);
    color: #e6a500;
}

.status-failed {
    background: rgba(239, 71, 111, 0.15);
    color: var(--danger);
}

.status-processing {
    background: rgba(67, 97, 238, 0.15);
    color: var(--primary);
}

/* Two Column Layout */
.two-column {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 25px;
    margin-bottom: 25px;
}

@media (max-width: 1200px) {
    .two-column {
        grid-template-columns: 1fr;
    }
}

/* Service Cards */
.services-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 16px;
    margin-top: 16px;
}

.service-card {
    background: white;
    border-radius: 10px;
    padding: 16px;
    text-align: center;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    transition: var(--transition);
    cursor: pointer;
    border: 2px solid transparent;
    position: relative;
    overflow: hidden;
}

.service-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    border-color: var(--primary);
}

.service-card.active {
    border-color: var(--primary);
    background: rgba(67, 97, 238, 0.03);
}

.service-card.active:before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 0;
    height: 0;
    border-style: solid;
    border-width: 0 25px 25px 0;
    border-color: transparent var(--primary) transparent transparent;
}

.service-card.active:after {
    content: '✓';
    position: absolute;
    top: 2px;
    right: 4px;
    color: white;
    font-size: 10px;
    font-weight: bold;
}

.service-icon {
    width: 45px;
    height: 45px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 12px;
    font-size: 20px;
    color: white;
}

/* Service Colors */
.mobile-bg { background: #4361ee; }
.dth-bg { background: #06d6a0; }
.biller-bg { background: #7209b7; }
.bus-bg { background: #f72585; }
.air-bg { background: #4cc9f0; }
.electricity-bg { background: #ff9e00; }

/* Recent Order Styles */
.recent-order {
    display: flex;
    gap: 12px;
    padding: 12px;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    margin-bottom: 10px;
    align-items: center;
    transition: var(--transition);
}

.recent-order:hover {
    border-color: var(--primary);
    background: rgba(67, 97, 238, 0.02);
}

.recent-order img {
    width: 40px;
    height: 40px;
    border-radius: 6px;
    object-fit: cover;
}

.recent-order > div {
    flex: 1;
}

.recent-order strong {
    display: block;
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 4px;
}

.recent-order p {
    font-size: 11px;
    color: #6b7280;
    margin-bottom: 4px;
}

.recent-order span {
    color: #2563eb;
    font-weight: 600;
    font-size: 13px;
}

/* Service Modal */
.service-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    align-items: center;
    justify-content: center;
}

.service-modal.active {
    display: flex;
    animation: fadeIn 0.3s ease;
}

.modal-content {
    background: white;
    border-radius: var(--border-radius);
    width: 90%;
    max-width: 450px;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    animation: slideUp 0.3s ease;
}

@keyframes slideUp {
    from { transform: translateY(30px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

.modal-header {
    padding: 18px 20px;
    border-bottom: 1px solid var(--gray-light);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.modal-header h3 {
    font-size: 18px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
}

.modal-close {
    background: none;
    border: none;
    font-size: 22px;
    color: var(--gray);
    cursor: pointer;
    transition: var(--transition);
}

.modal-close:hover {
    color: var(--danger);
}

.modal-body {
    padding: 20px;
}

.form-group {
    margin-bottom: 16px;
}

.form-group label {
    display: block;
    margin-bottom: 6px;
    font-weight: 500;
    color: var(--dark);
    font-size: 13px;
}

.form-group input,
.form-group select {
    width: 100%;
    padding: 10px 14px;
    border: 1px solid var(--gray-light);
    border-radius: 8px;
    font-size: 14px;
    transition: var(--transition);
}

.form-group input:focus,
.form-group select:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
}

.modal-footer {
    padding: 18px 20px;
    border-top: 1px solid var(--gray-light);
    display: flex;
    justify-content: flex-end;
    gap: 10px;
}

/* Wallet Flow */
.wallet-flow {
    background: white;
    border-radius: var(--border-radius);
    padding: 20px;
    box-shadow: var(--box-shadow);
}

.flow-steps {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 25px 0;
    position: relative;
}

.flow-steps:before {
    content: '';
    position: absolute;
    top: 25px;
    left: 40px;
    right: 40px;
    height: 3px;
    background: var(--gray-light);
    z-index: 1;
}

.flow-step {
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    z-index: 2;
    width: 100px;
}

.step-icon {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: white;
    border: 3px solid var(--primary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    color: var(--primary);
    margin-bottom: 10px;
    box-shadow: 0 4px 12px rgba(67, 97, 238, 0.2);
}

.step-text {
    text-align: center;
    font-size: 12px;
    font-weight: 600;
}

.step-arrow {
    font-size: 20px;
    color: var(--gray);
    position: absolute;
    top: 20px;
    right: -12px;
}

/* User Menu */
.user-menu {
    display: flex;
    align-items: center;
    gap: 16px;
}

.notifications {
    position: relative;
    cursor: pointer;
}

.notification-badge {
    position: absolute;
    top: -6px;
    right: -6px;
    background: var(--danger);
    color: white;
    font-size: 10px;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

.user-profile {
    display: flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
    padding: 6px 10px;
    border-radius: 8px;
    transition: var(--transition);
}

.user-profile:hover {
    background: rgba(67, 97, 238, 0.05);
}

.avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--primary), var(--utility));
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 600;
    font-size: 16px;
    border: 2px solid white;
    box-shadow: 0 3px 8px rgba(0,0,0,0.1);
}

.user-info h4 {
    font-weight: 600;
    font-size: 14px;
}

.user-info p {
    font-size: 12px;
    color: var(--gray);
}

/* Quick Actions */
.quick-actions {
    display: flex;
    gap: 10px;
    margin-bottom: 25px;
    flex-wrap: wrap;
}

.quick-action-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 16px;
    background: white;
    border-radius: var(--border-radius);
    text-decoration: none;
    color: var(--dark);
    font-weight: 500;
    transition: var(--transition);
    box-shadow: var(--box-shadow);
    flex: 1;
    max-width: 180px;
    font-size: 13px;
}

.quick-action-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.1);
}

.quick-action-btn i {
    font-size: 18px;
    color: var(--primary);
}

/* Chart Container */
.chart-container {
    background: white;
    border-radius: var(--border-radius);
    padding: 20px;
    box-shadow: var(--box-shadow);
    margin-bottom: 25px;
}

.chart-container canvas {
    max-height: 200px;
    width: 100% !important;
}

/* Alert */
.alert {
    padding: 14px 18px;
    border-radius: var(--border-radius);
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 13px;
}

.alert-success {
    background: rgba(6, 214, 160, 0.1);
    border-left: 4px solid var(--success);
    color: var(--dark);
}

.alert-warning {
    background: rgba(255, 209, 102, 0.1);
    border-left: 4px solid var(--warning);
    color: var(--dark);
}

/* Responsive */
@media (max-width: 992px) {
    .sidebar {
        width: 70px;
    }
    .logo h1, .profile-box h4 span, .profile-box p, .profile-box h3,
    .profile-status, .dashboard-option span, .nav-section h3, .nav-links a span {
        display: none;
    }
    .logo {
        justify-content: center;
        padding: 18px 0;
    }
    .logo i {
        margin: 0;
        font-size: 22px;
    }
    .profile-box {
        margin: 12px 8px;
        padding: 15px 10px;
        min-height: auto;
    }
    .profile-logo-icon {
        width: 45px;
        height: 45px;
        font-size: 20px;
    }
    .dashboard-option {
        justify-content: center;
        padding: 12px 0;
    }
    .dashboard-option i {
        font-size: 18px;
    }
    .nav-links a {
        justify-content: center;
        padding: 14px 0;
    }
    .nav-links a i {
        font-size: 18px;
    }
    .has-submenu > a .fa-chevron-down {
        display: none;
    }
    .user-info {
        display: none;
    }
    .quick-action-btn {
        min-width: calc(50% - 10px);
        max-width: none;
    }
}

@media (max-width: 768px) {
    .stats-container {
        grid-template-columns: repeat(2, 1fr);
    }
    .table-container {
        overflow-x: auto;
    }
    table {
        min-width: 600px;
    }
    .services-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    .quick-actions {
        flex-direction: column;
    }
    .quick-action-btn {
        min-width: 100%;
        max-width: 100%;
    }
    .topbar {
        padding: 14px 18px;
    }
    .dashboard-content {
        padding: 18px;
    }
}

@media (max-width: 480px) {
    .stats-container {
        grid-template-columns: 1fr;
    }
    .two-column {
        gap: 18px;
    }
    .services-grid {
        grid-template-columns: 1fr;
    }
}

/* Loading Animation */
.loading {
    display: inline-block;
    width: 18px;
    height: 18px;
    border: 2px solid rgba(67, 97, 238, 0.3);
    border-radius: 50%;
    border-top-color: var(--primary);
    animation: spin 1s ease-in-out infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* Tooltip */
.tooltip {
    position: relative;
    display: inline-block;
}

.tooltip .tooltip-text {
    visibility: hidden;
    width: 120px;
    background-color: var(--dark);
    color: white;
    text-align: center;
    border-radius: 6px;
    padding: 5px;
    position: absolute;
    z-index: 1;
    bottom: 125%;
    left: 50%;
    margin-left: -60px;
    opacity: 0;
    transition: opacity 0.3s;
    font-size: 11px;
}

.tooltip:hover .tooltip-text {
    visibility: visible;
    opacity: 1;
}

/* E-commerce Specific Stats */
.ecom-stat-card .stat-icon {
    width: 45px;
    height: 45px;
}

.ecom-stat-card .stat-info h3 {
    font-size: 22px;
}
</style>
</head>

<body>

<div class="container">

<!-- SIDEBAR -->
<div class="sidebar">

    <!-- LOGO -->
    <div class="logo">
        <i class="fas fa-chart-network"></i>
        <h1>D2C Admin</h1>
    </div>

    <!-- PROFILE BOX WITH ICON - UPDATED FOR BETTER FIT -->
    <div class="profile-box">
        <h4><span>Business Online Solutions - D2C Platform</span></h4>
        <p>Welcome,</p>
        <h3>BOS CENTER</h3>
        <div class="profile-logo">
            <div class="profile-logo-icon">
                <i class="fas fa-building"></i>
                <div class="status-badge"></div>
            </div>
        </div>
        <div class="profile-status">
            <i class="fas fa-circle" style="font-size: 8px;"></i> Online
        </div>
    </div>

    <!-- DASHBOARD SWITCH -->
    <div class="dashboard-switcher">
        <div class="dashboard-option active" data-dashboard="utility">
            <i class="fas fa-bolt"></i>
            <span>Utility Dashboard</span>
        </div>
        <div class="dashboard-option" data-dashboard="ecommerce">
            <i class="fas fa-shopping-cart"></i>
            <span>E-commerce Dashboard</span>
        </div>
    </div>

    <!-- NAV -->
    <div class="nav-section">
        <h3>Main</h3>
        <ul class="nav-links">
            <li class="has-submenu">
                <a href="#" data-nav="dashboard"><i class="fas fa-home"></i>Dashboard <i class="fas fa-chevron-down" style="margin-left:auto;font-size:12px;"></i></a>
                <ul class="submenu">
                    <li><a href="#" data-nav="b2b">B2B</a></li>
                    <li><a href="#" data-nav="d2c" class="active">D2C</a></li>
                </ul>
            </li>
            <li><a href="#" data-nav="wallet"><i class="fas fa-wallet"></i>Wallet <span class="badge">3</span></a></li>
            <li><a href="#" data-nav="transactions"><i class="fas fa-exchange-alt"></i>Transactions</a></li>
            <li><a href="#" data-nav="customers"><i class="fas fa-users"></i>Customers <span class="badge">42</span></a></li>
            <li><a href="#" data-nav="kyc"><i class="fas fa-id-card"></i>KYC Verification</a></li>
        </ul>
    </div>

    <div class="nav-section">
        <h3>Management</h3>
        <ul class="nav-links">
            <li><a href="#" data-nav="services"><i class="fas fa-cog"></i>Services</a></li>
            <li><a href="#" data-nav="providers"><i class="fas fa-network-wired"></i>Providers</a></li>
            <li><a href="#" data-nav="reports"><i class="fas fa-chart-bar"></i>Reports</a></li>
            <li><a href="#" data-nav="support"><i class="fas fa-headset"></i>Support</a></li>
            <li><a href="#" data-nav="settings"><i class="fas fa-sliders-h"></i>Settings</a></li>
        </ul>
    </div>

</div>

<!-- MAIN -->
<div class="main-content">
    <div class="topbar">
        <div class="page-title">
            <h2 id="dashboard-title">Utility Services Dashboard</h2>
            <p id="dashboard-subtitle">Manage Mobile, DTH, BBPS, BUS & Air transactions</p>
        </div>
        <div class="user-menu">
            <div class="notifications" id="notificationsBtn">
                <i class="fas fa-bell"></i>
                <span class="notification-badge" id="notificationCount">7</span>
            </div>
            <div class="user-profile" id="userProfileBtn">
                <div class="avatar">SA</div>
                <div class="user-info">
                    <h4>Super Admin</h4>
                    <p>Administrator</p>
                </div>
                <i class="fas fa-chevron-down"></i>
            </div>
        </div>
    </div>

    <div class="dashboard-content">
        <!-- Quick Actions -->
        <div class="quick-actions">
            <a href="#" class="quick-action-btn" id="quickRecharge">
                <i class="fas fa-bolt"></i>
                <span>Quick Recharge</span>
            </a>
            <a href="#" class="quick-action-btn" id="quickBill">
                <i class="fas fa-file-invoice-dollar"></i>
                <span>Pay Bill</span>
            </a>
            <a href="#" class="quick-action-btn" id="quickWallet">
                <i class="fas fa-wallet"></i>
                <span>Add Money</span>
            </a>
            <a href="#" class="quick-action-btn" id="quickReport">
                <i class="fas fa-chart-line"></i>
                <span>Generate Report</span>
            </a>
        </div>

        <!-- Alert -->
        <div class="alert alert-success">
            <i class="fas fa-info-circle"></i>
            <span>Today's platform fee collected: <strong>₹8,492</strong>. <a href="#" style="color: var(--primary); text-decoration: none;">View details →</a></span>
        </div>

        <!-- UTILITY DASHBOARD -->
        <div class="dashboard-panel active" id="utility-dashboard">
            <!-- Stats -->
            <div class="stats-container">
                <div class="stat-card" id="statTransactions">
                    <div class="stat-icon" style="background: var(--utility);">
                        <i class="fas fa-exchange-alt"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="transactionCount">1,247</h3>
                        <p>Today's Transactions</p>
                    </div>
                </div>
                <div class="stat-card" id="statVolume">
                    <div class="stat-icon" style="background: var(--primary);">
                        <i class="fas fa-rupee-sign"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="transactionVolume">₹2,84,567</h3>
                        <p>Transaction Volume</p>
                    </div>
                </div>
                <div class="stat-card" id="statFees">
                    <div class="stat-icon" style="background: var(--success);">
                        <i class="fas fa-percentage"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="platformFees">₹8,492</h3>
                        <p>Platform Fees</p>
                    </div>
                </div>
                <div class="stat-card" id="statKYC">
                    <div class="stat-icon" style="background: var(--warning);">
                        <i class="fas fa-user-check"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="pendingKYC">42</h3>
                        <p>Pending KYC</p>
                    </div>
                </div>
            </div>
            
            <!-- Two Column Layout -->
            <div class="two-column">
                <!-- Live Transactions -->
                <div class="table-container">
                    <div class="table-header">
                        <h3><i class="fas fa-bolt" style="color: var(--utility); margin-right: 10px;"></i>Live Transactions</h3>
                        <div>
                            <button class="btn btn-outline btn-sm" id="refreshTransactions">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                            <button class="btn btn-outline btn-sm">View All</button>
                        </div>
                    </div>
                    <table id="transactionsTable">
                        <thead>
                            <tr>
                                <th>Transaction ID</th>
                                <th>Service</th>
                                <th>Amount</th>
                                <th>Status</th>
                                <th>Time</th>
                            </tr>
                        </thead>
                        <tbody id="transactionsBody">
                            <tr>
                                <td>TXN_789001</td>
                                <td>Airtel Mobile</td>
                                <td>₹399</td>
                                <td><span class="status status-success">Success</span></td>
                                <td>09:42 AM</td>
                            </tr>
                            <tr>
                                <td>TXN_789002</td>
                                <td>Electricity Bill</td>
                                <td>₹1,250</td>
                                <td><span class="status status-pending">Pending</span></td>
                                <td>09:40 AM</td>
                            </tr>
                            <tr>
                                <td>TXN_789003</td>
                                <td>Jio Recharge</td>
                                <td>₹299</td>
                                <td><span class="status status-failed">Failed</span></td>
                                <td>09:38 AM</td>
                            </tr>
                            <tr>
                                <td>TXN_789004</td>
                                <td>Gas Bill</td>
                                <td>₹650</td>
                                <td><span class="status status-success">Success</span></td>
                                <td>09:35 AM</td>
                            </tr>
                            <tr>
                                <td>TXN_789005</td>
                                <td>DISH TV DTH</td>
                                <td>₹500</td>
                                <td><span class="status status-processing">Processing</span></td>
                                <td>09:30 AM</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- Service Management -->
                <div class="table-container">
                    <div class="table-header">
                        <h3><i class="fas fa-cog" style="color: var(--primary); margin-right: 10px;"></i>Service Management</h3>
                        <button class="btn btn-primary btn-sm" id="addServiceBtn">+ Add Service</button>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>Provider</th>
                                <th>Status</th>
                                <th>Fee %</th>
                                <th>Last Updated</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><i class="fas fa-mobile-alt" style="color: var(--primary); margin-right: 8px;"></i>Airtel</td>
                                <td><span class="status status-success">Active</span></td>
                                <td>1.2%</td>
                                <td>2 min ago</td>
                            </tr>
                            <tr>
                                <td><i class="fas fa-wifi" style="color: var(--success); margin-right: 8px;"></i>Jio</td>
                                <td><span class="status status-success">Active</span></td>
                                <td>1.5%</td>
                                <td>5 min ago</td>
                            </tr>
                            <tr>
                                <td><i class="fas fa-satellite-dish" style="color: var(--warning); margin-right: 8px;"></i>DISH TV</td>
                                <td><span class="status status-success">Active</span></td>
                                <td>₹15 flat</td>
                                <td>10 min ago</td>
                            </tr>
                            <tr>
                                <td><i class="fas fa-bolt" style="color: var(--danger); margin-right: 8px;"></i>BSNL</td>
                                <td><span class="status status-failed">Inactive</span></td>
                                <td>1.0%</td>
                                <td>1 day ago</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Services Grid -->
            <div class="table-container">
                <div class="table-header">
                    <h3><i class="fas fa-th-large" style="color: var(--utility); margin-right: 10px;"></i>Utility Services</h3>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-outline btn-sm">Manage Categories</button>
                        <button class="btn btn-outline btn-sm" id="recharge-demo-btn">
                            <i class="fas fa-play-circle"></i> Demo Recharge
                        </button>
                    </div>
                </div>
                <div class="services-grid" style="padding: 20px;">
                    <div class="service-card" data-service="mobile">
                        <div class="service-icon mobile-bg">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <h4>Mobile Recharge</h4>
                        <p style="font-size: 12px; color: var(--gray); margin-top: 5px;">65% of transactions</p>
                    </div>
                    <div class="service-card" data-service="dth">
                        <div class="service-icon dth-bg">
                            <i class="fas fa-satellite-dish"></i>
                        </div>
                        <h4>DTH Recharge</h4>
                        <p style="font-size: 12px; color: var(--gray); margin-top: 5px;">18% of transactions</p>
                    </div>
                    <div class="service-card" data-service="bbps">
                        <div class="service-icon biller-bg">
                            <i class="fas fa-file-invoice-dollar"></i>
                        </div>
                        <h4>BBPS Bill Pay</h4>
                        <p style="font-size: 12px; color: var(--gray); margin-top: 5px;">12% of transactions</p>
                    </div>
                    <div class="service-card" data-service="bus">
                        <div class="service-icon bus-bg">
                            <i class="fas fa-bus"></i>
                        </div>
                        <h4>BUS Tickets</h4>
                        <p style="font-size: 12px; color: var(--gray); margin-top: 5px;">3% of transactions</p>
                    </div>
                    <div class="service-card" data-service="air">
                        <div class="service-icon air-bg">
                            <i class="fas fa-plane"></i>
                        </div>
                        <h4>Air Tickets</h4>
                        <p style="font-size: 12px; color: var(--gray); margin-top: 5px;">2% of transactions</p>
                    </div>
                    <div class="service-card" data-service="electricity">
                        <div class="service-icon electricity-bg">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <h4>Electricity</h4>
                        <p style="font-size: 12px; color: var(--gray); margin-top: 5px;">8% of transactions</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- E-COMMERCE DASHBOARD -->
        <div class="dashboard-panel" id="ecommerce-dashboard">
            <!-- STATS CARDS - Updated Layout -->
            <div class="stats-container">
                <div class="stat-card ecom-stat-card">
                    <div class="stat-icon" style="background:#3b82f6">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="stat-info">
                        <h3>1.19M</h3>
                        <p>Total Sales</p>
                    </div>
                </div>

                <div class="stat-card ecom-stat-card">
                    <div class="stat-icon" style="background:#22c55e">
                        <i class="fas fa-cart-shopping"></i>
                    </div>
                    <div class="stat-info">
                        <h3>₹0.00</h3>
                        <p>Daily Sales</p>
                    </div>
                </div>

                <div class="stat-card ecom-stat-card">
                    <div class="stat-icon" style="background:#06b6d4">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="stat-info">
                        <h3>0</h3>
                        <p>Total Users</p>
                    </div>
                </div>

                <div class="stat-card ecom-stat-card">
                    <div class="stat-icon" style="background:#ef4444">
                        <i class="fas fa-box"></i>
                    </div>
                    <div class="stat-info">
                        <h3>16</h3>
                        <p>Total Products</p>
                    </div>
                </div>

                <div class="stat-card ecom-stat-card">
                    <div class="stat-icon" style="background:#22c55e">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-info">
                        <h3>44</h3>
                        <p>Total Pending Orders</p>
                    </div>
                </div>

                <div class="stat-card ecom-stat-card">
                    <div class="stat-icon" style="background:#facc15">
                        <i class="fas fa-hourglass-half"></i>
                    </div>
                    <div class="stat-info">
                        <h3>0</h3>
                        <p>Today Pending Orders</p>
                    </div>
                </div>
            </div>

            <!-- MAIN CONTENT -->
            <div class="two-column">
                <!-- ORDER OVERVIEW -->
                <div class="table-container">
                    <div class="table-header">
                        <h3><i class="fas fa-chart-bar" style="color: #3b82f6;"></i> Total Order Overview</h3>
                        <select class="btn btn-outline btn-sm">
                            <option>Line Chart</option>
                            <option>Bar Chart</option>
                        </select>
                    </div>

                    <div style="padding:15px;">
                        <canvas id="orderChart" height="120"></canvas>
                    </div>
                </div>

                <!-- RECENT ORDERS -->
                <div class="table-container">
                    <div class="table-header">
                        <h3><i class="fas fa-clock" style="color: #ef4444;"></i> Recent Orders</h3>
                        <a href="#" style="font-size:12px;color:#2563eb;text-decoration:none;">See all →</a>
                    </div>

                    <div style="padding:15px;">
                        <div class="recent-order">
                            <img src="https://images.unsplash.com/photo-1593640408182-31c70c8268f5?w=40&h=40&fit=crop&crop=center" alt="Laptop">
                            <div>
                                <strong>HP Victus AMD Ryzen 7</strong>
                                <p>06:35 PM | 01-09-2025</p>
                                <span>₹ 25,000.00</span>
                            </div>
                        </div>

                        <div class="recent-order">
                            <img src="https://images.unsplash.com/photo-1484704849700-f032a568e944?w=40&h=40&fit=crop&crop=center" alt="Headset">
                            <div>
                                <strong>Fingers Headset</strong>
                                <p>01:02 PM | 20-08-2025</p>
                                <span>₹ 2,160.00</span>
                            </div>
                        </div>

                        <div class="recent-order">
                            <img src="https://images.unsplash.com/photo-1593640408182-31c70c8268f5?w=40&h=40&fit=crop&crop=center" alt="Laptop">
                            <div>
                                <strong>DELL Vostro i5</strong>
                                <p>12:45 PM | 20-08-2025</p>
                                <span>₹ 17,000.00</span>
                            </div>
                        </div>

                        <div class="recent-order">
                            <img src="https://images.unsplash.com/photo-1552168324-d612d77725e3?w=40&h=40&fit=crop&crop=center" alt="Camera">
                            <div>
                                <strong>GoPro HERO12</strong>
                                <p>02:31 PM | 19-08-2025</p>
                                <span>₹ 29,250.00</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PRODUCT MANAGEMENT -->
            <div class="table-container">
                <div class="table-header">
                    <h3><i class="fas fa-box-open" style="color: var(--primary);"></i> Product Management</h3>
                    <button class="btn btn-primary btn-sm">
                        <i class="fas fa-plus"></i> Add Product
                    </button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Product</th>
                            <th>Category</th>
                            <th>Stock</th>
                            <th>Price</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <img src="https://images.unsplash.com/photo-1593640408182-31c70c8268f5?w=30&h=30&fit=crop&crop=center" style="width: 30px; height: 30px; border-radius: 4px;">
                                    <span>HP Victus Laptop</span>
                                </div>
                            </td>
                            <td>Electronics</td>
                            <td><span class="status status-success">In Stock</span></td>
                            <td>₹25,000</td>
                            <td><span class="status status-success">Active</span></td>
                            <td>
                                <button class="btn btn-outline btn-sm">Edit</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <img src="https://images.unsplash.com/photo-1484704849700-f032a568e944?w=30&h=30&fit=crop&crop=center" style="width: 30px; height: 30px; border-radius: 4px;">
                                    <span>Wireless Headset</span>
                                </div>
                            </td>
                            <td>Accessories</td>
                            <td><span class="status status-failed">Low Stock</span></td>
                            <td>₹2,160</td>
                            <td><span class="status status-success">Active</span></td>
                            <td>
                                <button class="btn btn-outline btn-sm">Edit</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <img src="https://images.unsplash.com/photo-1552168324-d612d77725e3?w=30&h=30&fit=crop&crop=center" style="width: 30px; height: 30px; border-radius: 4px;">
                                    <span>GoPro Camera</span>
                                </div>
                            </td>
                            <td>Electronics</td>
                            <td><span class="status status-success">In Stock</span></td>
                            <td>₹29,250</td>
                            <td><span class="status status-success">Active</span></td>
                            <td>
                                <button class="btn btn-outline btn-sm">Edit</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- Service Selection Modal -->
<div class="service-modal" id="serviceModal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 id="modalServiceTitle">
                <i class="fas fa-mobile-alt" id="modalServiceIcon"></i>
                <span id="modalServiceName">Mobile Recharge</span>
            </h3>
            <button class="modal-close" id="modalCloseBtn">&times;</button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="serviceProvider">Service Provider</label>
                <select id="serviceProvider">
                    <option value="">Select Provider</option>
                    <option value="airtel">Airtel</option>
                    <option value="jio">Jio</option>
                    <option value="vi">Vi (Vodafone Idea)</option>
                    <option value="bsnl">BSNL</option>
                </select>
            </div>
            <div class="form-group">
                <label for="mobileNumber">Mobile Number</label>
                <input type="text" id="mobileNumber" placeholder="Enter 10-digit mobile number">
            </div>
            <div class="form-group">
                <label for="rechargeAmount">Recharge Amount (₹)</label>
                <input type="number" id="rechargeAmount" placeholder="Enter amount" min="10" max="5000">
            </div>
            <div class="form-group">
                <label for="rechargePlan">Select Plan (Optional)</label>
                <select id="rechargePlan">
                    <option value="">Choose a plan</option>
                    <option value="299">₹299 - 1.5GB/day, 28 days</option>
                    <option value="399">₹399 - 2GB/day, 56 days</option>
                    <option value="599">₹599 - 3GB/day, 84 days</option>
                    <option value="799">₹799 - Unlimited, 90 days</option>
                </select>
            </div>
            <div id="transactionFlow" style="display: none; margin-top: 20px; padding: 15px; background: var(--light); border-radius: 8px;">
                <h4 style="margin-bottom: 10px; color: var(--primary);">Transaction Flow</h4>
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px;">
                    <div style="text-align: center;">
                        <div style="width: 40px; height: 40px; background: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 5px;">
                            <i class="fas fa-user"></i>
                        </div>
                        <small>Customer</small>
                    </div>
                    <i class="fas fa-arrow-right" style="color: var(--gray);"></i>
                    <div style="text-align: center;">
                        <div style="width: 40px; height: 40px; background: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 5px;">
                            <i class="fas fa-credit-card"></i>
                        </div>
                        <small>PG Payment</small>
                    </div>
                    <i class="fas fa-arrow-right" style="color: var(--gray);"></i>
                    <div style="text-align: center;">
                        <div style="width: 40px; height: 40px; background: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 5px;">
                            <i class="fas fa-building"></i>
                        </div>
                        <small>Admin Account</small>
                    </div>
                    <i class="fas fa-arrow-right" style="color: var(--gray);"></i>
                    <div style="text-align: center;">
                        <div style="width: 40px; height: 40px; background: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 5px;">
                            <i class="fas fa-wallet"></i>
                        </div>
                        <small>Wallet Credit</small>
                    </div>
                </div>
                <div style="font-size: 13px; color: var(--success); text-align: center; padding: 10px; background: white; border-radius: 5px; margin-top: 10px;">
                    <i class="fas fa-check-circle"></i> ₹<span id="flowAmount">0</span> will be credited to customer wallet
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-outline" id="modalCancelBtn">Cancel</button>
            <button class="btn btn-primary" id="modalProceedBtn">Proceed to Payment</button>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize Chart.js for E-commerce Dashboard
    const orderChartCtx = document.getElementById('orderChart').getContext('2d');
    const orderChart = new Chart(orderChartCtx, {
        type: 'bar',
        data: {
            labels: ['Feb', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep'],
            datasets: [
                {
                    label: 'Total Orders',
                    data: [1, 1, 2, 1, 1, 5, 1],
                    backgroundColor: '#22c55e',
                    borderRadius: 4,
                    barPercentage: 0.6
                },
                {
                    label: 'Total Sales (in ₹)',
                    data: [20000, 250000, 500000, 250000, 30000, 150000, 30000].map(val => val / 10000),
                    backgroundColor: '#3b82f6',
                    borderRadius: 4,
                    barPercentage: 0.6
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'top',
                    labels: {
                        font: {
                            size: 11
                        },
                        padding: 10
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    grid: {
                        color: 'rgba(0,0,0,0.05)'
                    },
                    ticks: {
                        font: {
                            size: 10
                        }
                    }
                },
                x: {
                    grid: {
                        display: false
                    },
                    ticks: {
                        font: {
                            size: 10
                        }
                    }
                }
            }
        }
    });

    // Dashboard Switching Logic
    const dashboardOptions = document.querySelectorAll('.dashboard-option');
    const dashboardPanels = document.querySelectorAll('.dashboard-panel');
    const dashboardTitle = document.getElementById('dashboard-title');
    const dashboardSubtitle = document.getElementById('dashboard-subtitle');
    
    // Sidebar Navigation
    const navLinks = document.querySelectorAll('.nav-links a');
    
    // Service Cards
    const serviceCards = document.querySelectorAll('.service-card');
    
    // Modal Elements
    const serviceModal = document.getElementById('serviceModal');
    const modalCloseBtn = document.getElementById('modalCloseBtn');
    const modalCancelBtn = document.getElementById('modalCancelBtn');
    const modalProceedBtn = document.getElementById('modalProceedBtn');
    const rechargeAmountInput = document.getElementById('rechargeAmount');
    const rechargePlanSelect = document.getElementById('rechargePlan');
    const transactionFlow = document.getElementById('transactionFlow');
    const flowAmount = document.getElementById('flowAmount');
    
    // Dashboard titles and subtitles
    const dashboardData = {
        'utility': {
            title: 'Utility Services Dashboard',
            subtitle: 'Manage Mobile, DTH, BBPS, BUS & Air transactions'
        },
        'ecommerce': {
            title: 'E-commerce Dashboard',
            subtitle: 'Manage Products, Orders, Inventory & Sales Analytics'
        }
    };
    
    // Service data for modal
    const serviceData = {
        'mobile': {
            name: 'Mobile Recharge',
            icon: 'fa-mobile-alt',
            color: '#4361ee'
        },
        'dth': {
            name: 'DTH Recharge',
            icon: 'fa-satellite-dish',
            color: '#06d6a0'
        },
        'bbps': {
            name: 'BBPS Bill Pay',
            icon: 'fa-file-invoice-dollar',
            color: '#7209b7'
        },
        'bus': {
            name: 'BUS Tickets',
            icon: 'fa-bus',
            color: '#f72585'
        },
        'air': {
            name: 'Air Tickets',
            icon: 'fa-plane',
            color: '#4cc9f0'
        },
        'electricity': {
            name: 'Electricity Bill',
            icon: 'fa-bolt',
            color: '#ff9e00'
        }
    };
    
    // Initialize sidebar navigation
    function initNavigation() {
        navLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Remove active class from all links
                navLinks.forEach(l => l.classList.remove('active'));
                
                // Add active class to clicked link
                this.classList.add('active');
                
                const navType = this.getAttribute('data-nav');
                
                // Show appropriate content based on navigation
                showNavContent(navType);
            });
        });
    }
    
    // Show content based on navigation selection
    function showNavContent(navType) {
        // For demo purposes, just update the page title
        const titles = {
            'dashboard': 'Dashboard Overview',
            'wallet': 'Wallet Management',
            'transactions': 'Transaction History',
            'customers': 'Customer Management',
            'kyc': 'KYC Verification',
            'services': 'Services Management',
            'providers': 'Service Providers',
            'reports': 'Analytics & Reports',
            'support': 'Support Center',
            'settings': 'System Settings',
            'b2b': 'B2B Dashboard',
            'd2c': 'D2C Dashboard'
        };
        
        const subtitles = {
            'dashboard': 'Platform overview and quick actions',
            'wallet': 'Manage customer wallets and balances',
            'transactions': 'View and filter all transactions',
            'customers': 'Manage customer accounts and KYC',
            'kyc': 'Verify customer documents and identities',
            'services': 'Configure services and pricing',
            'providers': 'Manage service providers and APIs',
            'reports': 'Business intelligence and insights',
            'support': 'Handle customer support tickets',
            'settings': 'Configure platform settings',
            'b2b': 'Business-to-Business operations',
            'd2c': 'Direct-to-Consumer operations'
        };
        
        if (titles[navType]) {
            dashboardTitle.textContent = titles[navType];
            dashboardSubtitle.textContent = subtitles[navType];
        }
    }
    
    // Initialize dashboard switching
    dashboardOptions.forEach(option => {
        option.addEventListener('click', function() {
            const dashboardType = this.getAttribute('data-dashboard');
            
            // Remove active class from all options and panels
            dashboardOptions.forEach(opt => opt.classList.remove('active'));
            dashboardPanels.forEach(panel => panel.classList.remove('active'));
            
            // Add active class to clicked option
            this.classList.add('active');
            
            // Show corresponding panel
            document.getElementById(`${dashboardType}-dashboard`).classList.add('active');
            
            // Update page title and subtitle
            dashboardTitle.textContent = dashboardData[dashboardType].title;
            dashboardSubtitle.textContent = dashboardData[dashboardType].subtitle;
            
            // Reset service card selection
            serviceCards.forEach(card => card.classList.remove('active'));
            
            // Update chart if e-commerce dashboard
            if (dashboardType === 'ecommerce') {
                orderChart.update();
            }
        });
    });
    
    // Make service cards clickable
    serviceCards.forEach(card => {
        card.addEventListener('click', function() {
            const serviceType = this.getAttribute('data-service');
            
            // Remove active class from all service cards
            serviceCards.forEach(c => c.classList.remove('active'));
            
            // Add active class to clicked card
            this.classList.add('active');
            
            // Open service modal
            openServiceModal(serviceType);
        });
    });
    
    // Open service modal
    function openServiceModal(serviceType) {
        const service = serviceData[serviceType];
        if (!service) return;
        
        // Update modal content
        document.getElementById('modalServiceName').textContent = service.name;
        document.getElementById('modalServiceIcon').className = `fas ${service.icon}`;
        document.getElementById('modalServiceIcon').style.color = service.color;
        
        // Reset form
        document.getElementById('serviceProvider').value = '';
        document.getElementById('mobileNumber').value = '';
        document.getElementById('rechargeAmount').value = '';
        document.getElementById('rechargePlan').value = '';
        transactionFlow.style.display = 'none';
        
        // Show modal
        serviceModal.classList.add('active');
    }
    
    // Close modal
    function closeModal() {
        serviceModal.classList.remove('active');
        // Reset service card selection
        serviceCards.forEach(card => card.classList.remove('active'));
    }
    
    // Event listeners for modal
    modalCloseBtn.addEventListener('click', closeModal);
    modalCancelBtn.addEventListener('click', closeModal);
    
    // Close modal when clicking outside
    serviceModal.addEventListener('click', function(e) {
        if (e.target === serviceModal) {
            closeModal();
        }
    });
    
    // Proceed to payment button
    modalProceedBtn.addEventListener('click', function() {
        const amount = rechargeAmountInput.value || document.getElementById('rechargePlan').value;
        
        if (!amount || amount < 10) {
            alert('Please enter a valid amount (minimum ₹10)');
            return;
        }
        
        // For demo: Show success message
        alert(`Payment of ₹${amount} initiated!\n\nFlow: Customer → PG → Admin Account → Wallet Credit → Service Delivery`);
        
        // Simulate adding transaction to table
        simulateTransaction(amount);
        
        // Close modal
        closeModal();
    });
    
    // Show transaction flow when amount is entered
    rechargeAmountInput.addEventListener('input', function() {
        if (this.value) {
            transactionFlow.style.display = 'block';
            flowAmount.textContent = this.value;
        } else {
            transactionFlow.style.display = 'none';
        }
    });
    
    rechargePlanSelect.addEventListener('change', function() {
        if (this.value) {
            rechargeAmountInput.value = this.value;
            transactionFlow.style.display = 'block';
            flowAmount.textContent = this.value;
        } else {
            rechargeAmountInput.value = '';
            transactionFlow.style.display = 'none';
        }
    });
    
    // Simulate adding a transaction to the table
    function simulateTransaction(amount) {
        // This would typically be done via AJAX in a real app
        // For demo, we'll just show an alert
        const serviceName = document.getElementById('modalServiceName').textContent;
        alert(`✅ ${serviceName} of ₹${amount} added to transaction queue!\n\nCheck the "Live Transactions" table to see it appear.`);
    }
    
    // Demo recharge button
    document.getElementById('recharge-demo-btn').addEventListener('click', function() {
        // Auto-select mobile recharge
        serviceCards.forEach(card => card.classList.remove('active'));
        document.querySelector('.service-card[data-service="mobile"]').classList.add('active');
        
        // Open modal with pre-filled demo data
        openServiceModal('mobile');
        
        // Pre-fill demo data
        setTimeout(() => {
            document.getElementById('serviceProvider').value = 'airtel';
            document.getElementById('mobileNumber').value = '9876543210';
            document.getElementById('rechargeAmount').value = '299';
            transactionFlow.style.display = 'block';
            flowAmount.textContent = '299';
        }, 300);
    });
    
    // Add Service button
    document.getElementById('addServiceBtn').addEventListener('click', function() {
        alert('Add Service functionality would open a modal to add new service provider.');
    });
    
    // Quick action buttons
    document.getElementById('quickRecharge').addEventListener('click', function(e) {
        e.preventDefault();
        document.getElementById('recharge-demo-btn').click();
    });
    
    document.getElementById('quickBill').addEventListener('click', function(e) {
        e.preventDefault();
        alert('Quick Bill Pay functionality would open bill payment form.');
    });
    
    document.getElementById('quickWallet').addEventListener('click', function(e) {
        e.preventDefault();
        alert('Add Money to Wallet functionality would open wallet top-up form.');
    });
    
    document.getElementById('quickReport').addEventListener('click', function(e) {
        e.preventDefault();
        alert('Generate Report functionality would open report generator.');
    });
    
    // Refresh transactions
    document.getElementById('refreshTransactions').addEventListener('click', function() {
        this.innerHTML = '<span class="loading"></span> Refreshing';
        setTimeout(() => {
            this.innerHTML = '<i class="fas fa-sync-alt"></i> Refresh';
            alert('Transactions refreshed successfully!');
        }, 1000);
    });
    
    // Notifications
    document.getElementById('notificationsBtn').addEventListener('click', function() {
        alert('Notifications panel would open here with recent alerts.');
    });
    
    // User profile dropdown
    document.getElementById('userProfileBtn').addEventListener('click', function() {
        alert('User profile menu would open with options like Profile, Settings, Logout.');
    });
    
    // Add click effect to stat cards
    document.querySelectorAll('.stat-card').forEach(card => {
        card.addEventListener('click', function() {
            this.style.transform = 'scale(0.98)';
            setTimeout(() => {
                this.style.transform = '';
            }, 200);
        });
    });
    
    // Submenu toggle
    document.querySelectorAll('.has-submenu > a').forEach(menu => {
        menu.addEventListener('click', e => {
            e.preventDefault();
            menu.parentElement.classList.toggle('open');
        });
    });
    
    // Initialize navigation
    initNavigation();
    
    // Add sliding text animation adjustment
    const profileText = document.querySelector('.profile-box h4 span');
    if (profileText) {
        setTimeout(() => {
            const textWidth = profileText.scrollWidth;
            const containerWidth = profileText.parentElement.offsetWidth;
            const distance = textWidth + containerWidth;
            const animationSpeed = Math.max(8, distance / 40);
            profileText.style.animationDuration = `${animationSpeed}s`;
        }, 100);
    }
});

// Adjust profile box height on window resize
window.addEventListener('resize', function() {
    const profileBox = document.querySelector('.profile-box');
    if (window.innerWidth < 992) {
        profileBox.style.minHeight = '220px';
        profileBox.style.padding = '15px 10px';
    } else {
        profileBox.style.minHeight = '180px';
        profileBox.style.padding = '18px';
    }
});
</script>

</body>
</html>
